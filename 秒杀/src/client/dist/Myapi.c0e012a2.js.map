{"version":3,"sources":["banner1/Myapi.js"],"names":["Myapi","JSON","index","lagout","thisObj","speed","bh","Parent","imgUL","children","pointerUL","cutBut","imgLI","img","find","W","width","H","height","Math","abs","dW","length","size","css","appendP","move","cut","changes","hover","$","proxy","clearInterval","moveTimer","animate","opacity","P","objU","l","i","newi","addClass","append","outerWidth","imgObj","pUL","w","d","setInterval","indexChange","obj","eq","siblings","removeClass","In","left","console","log","C","THIS","on","hasClass","prepend","nw"],"mappings":"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","file":"Myapi.c0e012a2.js","sourceRoot":"..","sourcesContent":["/*\n* @Author: Marte\n* @Date:   2018-04-10 16:50:37\n* @Last Modified by:   Marte\n* @Last Modified time: 2018-04-25 12:34:37\n*/\n\n'use strict';\n\nfunction Myapi(){  //构造函数\n\n    this.JSON = {\n\n        index : 0,\n\n        lagout : function(thisObj,speed,bh){  //轮播图初始化\n\n            this.speed = speed;\n\n            var Parent = thisObj,\n\n                imgUL = Parent.children('ul:first'),\n                pointerUL = Parent.children('ul:last'),\n                cutBut = Parent.children('a'),\n\n                imgLI = imgUL.children('li'),\n                img = imgLI.find('img'),\n\n                W = img.width(),\n                H = img.height();\n\n            Parent.height(H + Math.abs(bh)).width(W);\n            var dW = (Parent.width() - W) / 2,\n\n                length = imgLI.size();\n\n            imgUL.width(W*length ).css('left',dW);\n\n            //函数调用\n            this.appendP(Parent,pointerUL,length );\n\n            this.move(imgUL,pointerUL,W,dW,length );\n\n            this.cut(imgUL,cutBut,W,dW,pointerUL,length );\n\n            this.changes(imgUL,pointerUL,W,length,dW);\n\n\n            //鼠标滑过暂停与启动\n            Parent.hover($.proxy(function() {\n\n                clearInterval(this.moveTimer);\n                cutBut.animate({\n                    opacity:0.8\n                })\n\n            },this), $.proxy(function() {\n\n                this.move(imgUL,pointerUL,W,dW,length );\n                cutBut.animate({\n                    opacity:0.2\n                })\n\n            },this));\n\n        },\n\n        appendP : function(P,objU,l){   //动态增添控制点\n\n            for(var i = 0; i < l; i++){\n\n                var newi = $('<li></li>');\n\n                if(i == 0){\n                    newi.addClass('now');\n                };\n\n                objU.append(newi);\n\n            };\n\n            objU.width(objU.find('li:first').outerWidth(true)*l);\n            objU.css('left',(P.width() - objU.width()) / 2);\n\n        },\n\n        move : function(imgObj,pUL,w,d,l){    //自动播放\n\n            this.moveTimer = setInterval($.proxy(function(){\n\n                this.animate(imgObj,w,d);\n\n                this.indexChange(pUL,l,1);\n\n            },this),this.speed)\n\n        },\n\n        indexChange: function(obj,l,i){   //改变计数点\n\n            if(this.index >= l - 1 && i > 0 ){\n                this.index = 0 ;\n            }else if(this.index <= 0 && i < 0 ){\n                this.index = l - 1;\n            }else{\n                this.index += i ;\n            }\n\n            obj.find('li').eq(this.index).addClass('now').siblings().removeClass('now');\n        },\n\n        animate : function(obj,w,d,In){   //自动播放动画函数\n\n           obj.animate({\n\n                left:-w+d,\n\n            },$.proxy(function(){\n\n                obj.css('left',d);\n                if(w > 0){\n\n                    if(In){\n                        obj.append( obj.children('li:lt(' + In + ')'));\n                        console.log(obj.children('li:lt(' + In + ')'));\n                    }else{\n                        obj.append(obj.find('li:first'));\n                    }\n\n                }\n\n            },this))\n        },\n\n        cut : function(imgObj,C,w,d,pUL,l){   //左右切换函数\n\n            C.css('top',(imgObj.height() - C.height()) / 2);\n\n            var THIS = this;\n\n            C.on('click', function() {\n\n                if($(this).hasClass('next')){\n\n                    THIS.animate(imgObj,w,d);\n                    THIS.indexChange(pUL,l,1);\n\n                }else{\n\n                    imgObj.css('left', -w + d);\n                    imgObj.prepend(imgObj.find('li:last'));\n\n                    THIS.animate(imgObj,0,d);\n                    THIS.indexChange(pUL,l,-1);\n\n                }\n\n            });\n\n        },\n\n        changes : function(imgObj,obj,w,l,d){   //控制点切换\n\n            var THIS = this;\n\n            obj.find('li').on('click',function(){\n\n                var nw = 0;\n\n                var In = 0;\n\n                $(this).addClass('now').siblings().removeClass('now');\n\n                if($(this).index() < THIS.index){\n                    In = (l - THIS.index + $(this).index());\n                    nw = In * w;\n                }else{\n                    In = ($(this).index() - THIS.index);\n                    nw = In * w;\n                }\n\n                THIS.index = $(this).index()\n\n                THIS.animate(imgObj,nw,d,In);\n\n            })\n\n        }\n\n    };\n\n};\n\n\n\n"]}